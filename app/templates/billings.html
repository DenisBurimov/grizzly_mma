{% extends "base.html" %}

{% block links %}
    <link href="{{ url_for('static', filename='css/user.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/search.css') }}" rel="stylesheet" media="screen">
{% endblock %}

{% block content %}
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <!-- <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas> -->

  <div class="d-flex justify-content-between pt-3">
    <h3 class="mt-1">Billings</h3>
    <a class="btn btn-primary mt-1 add_button" href="{{ url_for('billings.billing_add') }}">New Billing</a>
  </div>
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">Credits</th>
          <th scope="col">Created By</th>
          <th scope="col">Created At</th>
        </tr>
      </thead>
      <tbody>
        {% for billing in billings %}
          <tr>
            <td>{{billing.id}}</td>
            <td><a class="user_update" href="{{ url_for('billings.billings_details', billing_id=billing.id) }}">{{billing.credits}}</a></td>
            <td>{{billing.reseller.username}}</td>
            <td>{{ billing.created_at.strftime('%Y-%m-%d, %H:%M') }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</main>
{% endblock %}